# توثيق إجراءات النظام (Procedures) - الجزء 1 - بتسميات ذكية ودالة وبادئة المجال

## 1. إجراءات مالية وتحليلية عامة

1. **InvCreateNegativeBalanceTable** (CRT_MINUS_TAB_PROC)  
   - شرح: ينشئ أو يحدث جدول خاص يعرض الحسابات أو الأرصدة السالبة لتحليلها أو مراقبتها.
   - نوع العملية: تحليل مالي/تسويات
   - عمليات النظام المحاسبي: مراقبة الأرصدة/تسوية الحسابات  
   - طبقة CQRS: Application

2. **FinValidateBudgetBalanceBeforeOperation** (Chk_Bdgt_Blnc_Prc)  
   - شرح: يتحقق من وجود رصيد كافٍ في الميزانية قبل تنفيذ أي عملية مالية.
   - نوع العملية: مالية/موازنات
   - عمليات النظام المحاسبي: صرف/اعتماد/تحقق الميزانية  
   - طبقة CQRS: Domain

3. **FinCheckAndUpdateChequeNumber** (Chk_Upd_ChqNo_Prc)  
   - شرح: يتحقق من صحة أرقام الشيكات ويحدثها عند الحاجة.
   - نوع العملية: مالية/بنوك/شيكات
   - عمليات النظام المحاسبي: صرف الشيكات/إدارة الشيكات  
   - طبقة CQRS: Application

4. **GlsSetupDefaultAccountLedger** (GLS_ACCNT_DFLT_PRC)  
   - شرح: يحدد أو يجهز الحساب الافتراضي في دفتر الأستاذ عند إنشاء حسابات جديدة أو تحديثها.
   - نوع العملية: مالية/محاسبة عامة
   - عمليات النظام المحاسبي: إعداد الحسابات/تهيئة دفتر الأستاذ  
   - طبقة CQRS: Domain

5. **RptGetNetSalesForPreviousPeriod** (Get_Net_Sales_Py)  
   - شرح: يستخرج صافي المبيعات لفترة سابقة (سنة أو شهر سابق) لتحليل الأداء.
   - نوع العملية: تقارير/مبيعات
   - عمليات النظام المحاسبي: مقارنة الأداء/تقارير تحليلية دورية  
   - طبقة CQRS: Query

---

## 2. إجراءات تحقق وتحليل بيانات الحسابات والموردين والعملاء والمخزون

6. **IasValidateSupplierAccountData** (IAS_CheckData_AP_Prc)  
   - شرح: يفحص بيانات حسابات الموردين للتأكد من صحتها وكمالها قبل الترحيل أو المعالجة.
   - نوع العملية: مالية/موردين
   - عمليات النظام المحاسبي: تدقيق بيانات الموردين/تجهيز الترحيل  
   - طبقة CQRS: Application

7. **IasValidateCustomerAccountData** (IAS_CheckData_AR_Prc)  
   - شرح: يفحص بيانات حسابات العملاء للتأكد من صحتها وكمالها قبل الترحيل أو المعالجة.
   - نوع العملية: مالية/عملاء
   - عمليات النظام المحاسبي: تدقيق بيانات العملاء/تجهيز الترحيل  
   - طبقة CQRS: Application

8. **IasValidateInventoryRecords** (IAS_CheckData_Inv_Prc)  
   - شرح: يتحقق من صحة وسلامة بيانات الأصناف والمخزون لضمان دقة الجرد.
   - نوع العملية: مخزنية/جرد/تحقق
   - عمليات النظام المحاسبي: تدقيق بيانات المخزون/إجراءات الجرد  
   - طبقة CQRS: Application

9. **IasCalculateSalesDiscounts** (IAS_Get_SalesDisc_Prc)  
   - شرح: يحسب أو يجلب الخصومات الممنوحة في عمليات البيع سواء الفردية أو الكلية.
   - نوع العملية: مبيعات/خصومات
   - عمليات النظام المحاسبي: احتساب خصومات الفواتير/مراجعة العروض  
   - طبقة CQRS: Query

10. **IasCalculateFreeQuantityForSales** (IAS_Get_SalesFreeQty_Prc)  
    - شرح: يحسب الكميات المجانية التي أُضيفت للعميل مع عمليات البيع (عروض/هدايا).
    - نوع العملية: مبيعات/عروض ترويجية
    - عمليات النظام المحاسبي: مراجعة العروض المجانية/تحليل الحملات  
    - طبقة CQRS: Query

---

## 3. إجراءات ضريبية وترحيل محاسبي

11. **IasRebuildTaxMovementsAfterUpdate** (IAS_REBUILD_TAX_MOVMNT_PRC)  
    - شرح: يعيد بناء أو تحديث حركات الضرائب بعد أي تعديل على البيانات لضمان التوافق الضريبي.
    - نوع العملية: ضريبية/محاسبة عامة
    - عمليات النظام المحاسبي: إعادة ترحيل الضرائب/معالجة الفروقات  
    - طبقة CQRS: Domain

12. **IasUnpostAccountingTransactions** (IAS_UnpostTrns_Prc)  
    - شرح: يلغي ترحيل معاملات محاسبية معينة ويعيدها للحالة غير المرحّلة لتصحيح الأخطاء أو إعادة المعالجة.
    - نوع العملية: محاسبية/إدارية
    - عمليات النظام المحاسبي: إلغاء الترحيل/تصحيح السجلات  
    - طبقة CQRS: Application

---

# توثيق إجراءات النظام (Procedures) - الجزء 2 - بتسميات ذكية ودالة وبادئة المجال

## 4. إجراءات تحليلية/تقارير ومعالجة بيانات

13. **IasAnalyzeDatabaseTables** (Ias_Analyze_Tables)  
    - شرح: يقوم بتحليل جداول قاعدة البيانات لتحديد المشكلات وتحسين الأداء والفهارس.
    - نوع العملية: فنية/تحليل بيانات
    - عمليات النظام المحاسبي: صيانة البيانات/تحسين الأداء
    - طبقة CQRS: Application

14. **IasGetArabicCustomerReportData** (Ias_Ar_Get_Data_Rep)  
    - شرح: يستخرج بيانات تقارير العملاء أو الذمم المدينة باللغة العربية.
    - نوع العملية: تقارير/عملاء
    - عمليات النظام المحاسبي: إعداد تقارير الذمم/تحليل العملاء
    - طبقة CQRS: Query

15. **IasGetReservedQuantityForItem** (Ias_Get_Icode_Reserve_Qty_Prc)  
    - شرح: يجلب كمية الأصناف المحجوزة في المخزون لصنف معين (غير متاحة للبيع).
    - نوع العملية: مخزنية/حجز
    - عمليات النظام المحاسبي: إدارة حجز المخزون/تخصيص الطلبات
    - طبقة CQRS: Query

16. **IasGetPrimaryQuotationPrice** (Ias_Get_Qut_Prm_Price_Prc)  
    - شرح: يجلب السعر الأساسي لصنف في عرض سعر محدد (Quotation).
    - نوع العملية: تسعير/مبيعات/عروض أسعار
    - عمليات النظام المحاسبي: تسعير العروض/إعداد عروض الأسعار
    - طبقة CQRS: Query

17. **IasGetRetailSaleInformation** (Ias_Get_Rt_Sale_Info_Prc)  
    - شرح: يجلب معلومات المبيعات بالتجزئة لصنف أو مجموعة أصناف.
    - نوع العملية: مبيعات/تجزئة/تقارير
    - عمليات النظام المحاسبي: تحليل مبيعات التجزئة/تقارير نقاط البيع
    - طبقة CQRS: Query

18. **IasInsertOperationFlags** (Ias_Insrt_Flgs_Hps)  
    - شرح: يدرج أو يحدث أعلامًا (Flags) خاصة بالعمليات الحرجة أو الحساسة للنظام (مثل حماية أو تدقيق).
    - نوع العملية: فنية/أمان/تحكم
    - عمليات النظام المحاسبي: ضبط الصلاحيات/تأمين العمليات
    - طبقة CQRS: Application

19. **IasInsertRemoveFlags** (Ias_Insrt_Flgs_Rem)  
    - شرح: يدرج أو يحدث أعلامًا (Flags) خاصة بعمليات الإزالة أو الحذف في النظام.
    - نوع العملية: فنية/تحكم/أمان
    - عمليات النظام المحاسبي: ضبط عمليات الحذف/تتبع التعديلات
    - طبقة CQRS: Application

20. **IasInsertItemMovementForMultiYears** (Ias_Insrt_Itm_Move_Multi_Year)  
    - شرح: يدرج أو يحدث بيانات حركات الأصناف عبر عدة سنوات (للتحليل التاريخي).
    - نوع العملية: مخزنية/تحليلية/تقارير
    - عمليات النظام المحاسبي: تحليل حركة الأصناف/المقارنات السنوية
    - طبقة CQRS: Application

21. **IasInsertOpeningBalanceDetails** (Ias_Insrt_OB_PostDtl_Prc)  
    - شرح: يدرج تفاصيل عمليات الرصيد الافتتاحي للحسابات أو المخزون قبل الترحيل.
    - نوع العملية: مالية/افتتاحية
    - عمليات النظام المحاسبي: إدارة الرصيد الافتتاحي/تفصيل الحركات الافتتاحية
    - طبقة CQRS: Application

22. **IasPostOpeningBalance** (Ias_Insrt_OB_Post_Prc)  
    - شرح: ينفذ أو يدرج عملية ترحيل الرصيد الافتتاحي للحسابات أو المخزون.
    - نوع العملية: مالية/افتتاحية
    - عمليات النظام المحاسبي: ترحيل الأرصدة الافتتاحية
    - طبقة CQRS: Application

23. **IasInsertScreenLabels** (Ias_Insrt_Scr_Lbl)  
    - شرح: يدرج أو يعدل تسميات الشاشات (Labels) للواجهات أو التقارير.
    - نوع العملية: فنية/واجهات/تعريب
    - عمليات النظام المحاسبي: إعداد الواجهات/تعريب النظام
    - طبقة CQRS: Application

24. **IasGetLastIncomingPurchasePrice** (Ias_Last_Income_Price_Prc)  
    - شرح: يجلب آخر سعر شراء تم تسجيله لصنف معين.
    - نوع العملية: مشتريات/تسعير
    - عمليات النظام المحاسبي: تحليل أسعار الشراء/تقارير المشتريات
    - طبقة CQRS: Query

---

# توثيق إجراءات النظام (Procedures) - الجزء 3 - بتسميات ذكية ودالة وبادئة المجال

## 5. إجراءات التسعير والمبيعات/المخزون

25. **IasGetLastSalePrice** (Ias_Last_Sale_Price_Prc)  
    - شرح: يجلب آخر سعر بيع تم تسجيله لصنف معين.
    - نوع العملية: مبيعات/تسعير
    - عمليات النظام المحاسبي: تحليل أسعار البيع/تقارير المبيعات
    - طبقة CQRS: Query

26. **IasReopenClosedPeriod** (Ias_Unclosing_Period_Prc)  
    - شرح: يعيد فتح فترة محاسبية مغلقة للسماح بإجراء تعديلات أو عمليات إضافية.
    - نوع العملية: محاسبية/إدارية
    - عمليات النظام المحاسبي: إعادة فتح الفترات/استكمال المعالجات المحاسبية
    - طبقة CQRS: Application

27. **InvCheckItemCostDifference** (Inv_Chk_Diff_Itm_Cst_Prc)  
    - شرح: يتحقق من وجود اختلاف في تكلفة الصنف بين الحركات أو المستودعات المختلفة.
    - نوع العملية: مخزنية/مالية/تحقق
    - عمليات النظام المحاسبي: تحليل التكاليف/جرد المخزون
    - طبقة CQRS: Application

28. **InvCheckLastItemWeightedAverage** (Inv_Chk_Last_Itm_Wtavg)  
    - شرح: يتحقق من آخر متوسط مرجح لتكلفة الصنف في النظام.
    - نوع العملية: مخزنية/مالية
    - عمليات النظام المحاسبي: تقييم المخزون/تحليل التكاليف
    - طبقة CQRS: Query

29. **InvGetItemQrCodeData** (Inv_Get_Itm_QR_Code_Data)  
    - شرح: يجلب بيانات QR Code الخاصة بالصنف لاستخدامها في الطباعة أو التتبع.
    - نوع العملية: مخزنية/تعريفية
    - عمليات النظام المحاسبي: إعداد ملصقات الأصناف/تعقب الأصناف
    - طبقة CQRS: Query

30. **InvGetKitItemQuantity** (Inv_Kit_Itm_Qty_Prc)  
    - شرح: يجلب كمية الأصناف المجمعة (KIT) في المخزون.
    - نوع العملية: مخزنية/تجميع
    - عمليات النظام المحاسبي: إدارة الأصناف المركبة/تقارير المخزون
    - طبقة CQRS: Query

31. **InvUpdatePrimaryCost** (Inv_Upd_Prmry_Cst_Prc)  
    - شرح: يحدث التكلفة الأساسية لصنف معين بناءً على الحركات أو الأسعار الجديدة.
    - نوع العملية: مالية/مخزنية/تحديث بيانات
    - عمليات النظام المحاسبي: تسعير/تحديث التكاليف
    - طبقة CQRS: Application

32. **ItmCalculateMovementRatio** (Itm_Mov_Ratio_Qty_Prc)  
    - شرح: يحسب معدل حركة كمية الصنف (Turnover Ratio) لقياس سرعة دوران المخزون.
    - نوع العملية: تحليلية/مخزنية
    - عمليات النظام المحاسبي: تحليل الأداء/تقارير المخزون
    - طبقة CQRS: Query

33. **RptRecalculateSalesAges** (Recalc_Sales_Ages)  
    - شرح: يعيد حساب أعمار الذمم (الفواتير) أو المبيعات لتحليل فترات السداد.
    - نوع العملية: تحليلية/مبيعات
    - عمليات النظام المحاسبي: تحليل الذمم/تقارير أعمار الديون
    - طبقة CQRS: Application

34. **ShpGetSalesDiscounts** (Shp_Get_SalesDisc_Prc)  
    - شرح: يجلب الخصومات الممنوحة على المبيعات المرتبطة بالشحن أو التوصيل.
    - نوع العملية: مبيعات/خصومات/شحن
    - عمليات النظام المحاسبي: احتساب الخصومات/تقارير الشحن
    - طبقة CQRS: Query

35. **TaxUpgradeTaxSetup** (UPGRADE_TAX_SETUP)  
    - شرح: ينفذ عملية ترقية أو تحديث إعدادات الضرائب بالنظام بعد تغييرات في القوانين أو السياسات الضريبية.
    - نوع العملية: ضريبية/إدارية
    - عمليات النظام المحاسبي: صيانة النظام/تحديث السياسات الضريبية
    - طبقة CQRS: Application

---
