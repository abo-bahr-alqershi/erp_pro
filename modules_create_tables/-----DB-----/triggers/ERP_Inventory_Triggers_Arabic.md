# تريجرات قسم المخزون والمستودعات (Inventory & Warehouses)

> جميع المقدحات (Triggers) المرتبطة بجداول المخزون والمستودعات، مع شرح كل تريجر والجدول الذي يعمل عليه.

---

| اسم التريجر | الجدول | شرح الوظيفة |
|-------------|--------|-------------|
| AUD_BIN_DETAILS_TGR | BIN_DETAILS | يسجل كل تعديل أو حذف على تفاصيل أماكن التخزين (BIN) داخل المستودع لضمان تتبع دقيق لمواقع الأصناف ضمن المستودع وتاريخها. |
| AUD_COMPOUND_ITEMS_TGR | COMPOUND_ITEMS | يتتبع التعديلات أو الحذف في تعريفات الأصناف المركبة (المجمعة من عدة مكونات) لضبط مكونات الصنف المعقد بدقة. |
| AUD_DETAIL_GATE_GR_TGR | DETAIL_GATE_GR | يسجل التعديلات في تفاصيل بوابات الاستلام أو الإخراج (Gate Entry/Exit Details) لأغراض الجرد، التحليل، وتتبع الحركات الفعلية. |
| AUD_DETAIL_INV_TGR | DETAIL_INV | يتتبع التغييرات أو حذف تفاصيل حركات الجرد المخزني (Inventory Movements Details) لضمان دقة الرصيد الفعلي. |
| AUD_DETAIL_OUT_BILLS_TGR | DETAIL_OUT_BILLS | يسجل التعديلات على تفاصيل السندات أو الفواتير الصادرة ضمن الحركات المخزنية، لضمان ربط سليم بين المخزون والإيرادات أو المصاريف. |
| AUD_DIS_KIT_ITEMS_DETAIL_TGR | DIS_KIT_ITEMS_DETAIL | يسجل التعديلات أو حذف تفاصيل تفكيك أصناف الكيت (Kit Disassembly Details)، لتتبع فك وتركيب الأصناف. |
| AUD_GRN_DETAIL_TGR | GRN_DETAIL | يسجل التعديلات في تفاصيل إذن الاستلام المخزني (Goods Receipt Note Details) لضمان دقة العمليات في المستودع. |
| AUD_GRN_MASTER_TGR | GRN_MASTER | يتابع التغييرات على رؤوس أوامر الاستلام المخزني (Goods Receipt Note Master) لتوثيق كل حركات الاستلام الرئيسية. |
| AUD_ITEMS_COSTING_TGR | ITEMS_COSTING | يسجل كل تغيير في طرق احتساب تكلفة الأصناف أو سياسات التسعير المخزني لأغراض التدقيق والمراجعة السعرية. |
| AUD_ITEM_BIN_TGR | ITEM_BIN | يسجل التعديلات على تعريف أماكن التخزين (BIN) المرتبطة بكل صنف، لضمان دقة توزيع الأصناف في المستودعات. |
| AUD_KIT_ITEMS_DETAIL_TGR | KIT_ITEMS_DETAIL | يتتبع كافة التعديلات على تفاصيل أصناف الكيت (KIT) المجمعّة أو المفككة لضمان صحة الهيكلية. |
| AUD_KIT_ITEMS_TGR | KIT_ITEMS | يسجل التعديلات في تعريف أصناف الكيت (KIT)، أي تجميع أو حذف أو تعديل كيت جديد/حالي، لضبط الأصناف المركبة بدقة. |
| AUD_MASTER_GATE_GR_TGR | MASTER_GATE_GR | يسجل التعديلات في رؤوس بوابات الاستلام أو الإخراج (Gate Entry/Exit Master)، ويربطها بالحركات الفعلية. |
| AUD_MASTER_INV_TGR | MASTER_INV | يتتبع التعديلات أو حذف رؤوس جرد المخزون (Inventory Master)، ويضمن أرشفة كل عمليات الجرد. |
| AUD_MEASUREMENT_TGR | MEASUREMENT | يسجل التعديلات على وحدات القياس العامة للأصناف/المخزون، ما ينعكس على عمليات التحويل والتسعير. |
| AUD_OUT_TYPES_TGR | OUT_TYPES | يسجل التعديلات على أنواع الحركات الصادرة من المخزون (Outward Types)، مثل الصرف للإنتاج أو البيع أو الإتلاف إلخ. |
| AUD_P_ORDER_DETAIL_TGR | P_ORDER_DETAIL | يتتبع التعديلات في تفاصيل أوامر الشراء الخاصة بالمخزون، لضمان صحة الربط بين الشراء والمخزون. |
| AUD_P_REQUEST_DETAIL_TGR | P_REQUEST_DETAIL | يسجل التعديلات على تفاصيل طلبات الشراء المرتبطة بالمخزون، ما يضمن تدقيق طلبات التوريد. |
| AUD_QUOTATION_DETAIL_TGR | QUOTATION_DETAIL | يتتبع تعديلات تفاصيل عروض الأسعار للأصناف المخزنية لضبط مراجعة الأسعار ومطابقتها بالفواتير. |
| AUD_REQUEST_TYPES_TGR | REQUEST_TYPES | يسجل التعديلات في أنواع الطلبات المخزنية (طلب مواد/شراء/تحويل) لتسهيل التقارير والتحليل. |
| AUD_S_PRD_BRN_CUR_CLS_TGR | S_PRD_BRN_CUR_CLS | يسجل التعديلات في تصنيفات المنتجات حسب الفرع أو العملة أو الفئة. |
| AUD_S_PRD_DTL_TGR | S_PRD_DTL | يسجل التعديلات أو حذف تفاصيل المنتجات أو الأصناف المخزنية على مستوى التفاصيل الدقيقة. |
| AUD_S_PRD_MST_TGR | S_PRD_MST | يتتبع التعديلات على رؤوس المنتجات المخزنية (منتجات رئيسية)، لضبط دورة حياة المنتج في المخزون. |
| AUD_S_PRD_DAY_TGR | S_PRD_DAY | يسجل التعديلات في جدول أيام الإنتاج أو التوريد للأصناف، ما يفيد في المتابعة الزمنية لإنتاج الأصناف. |
| AUD_STK_CNFRM_TGR | STK_CNFRM | يسجل عمليات التأكيد على الجرد أو التسويات المخزنية، لضمان صحة أرصدة المخزون قبل الترحيل. |
| AUD_STK_COST_OPR_TGR | STK_COST_OPR | يتتبع التعديلات على عمليات احتساب تكلفة المخزون والتسويات الخاصة بها. |
| AUD_TRANSFER_TYPES_TGR | TRANSFER_TYPES | يسجل التعديلات في أنواع تحويلات المخزون بين المستودعات أو الفروع أو الأصناف. |
| AUD_WAREHOUSE_DETAILS_TGR | WAREHOUSE_DETAILS | يسجل التعديلات على تعريفات المستودعات ومعلوماتها (اسم، موقع، نوع، ...)، لضمان دقة بيانات أماكن التخزين. |
| AUD_WAREHOUSE_GROUP_TGR | WAREHOUSE_GROUP | يتتبع التعديلات في مجموعات وتصنيفات المستودعات لتسهيل تقارير الجرد والتحليل. |
| IAS_DECR_AVLQTY_STRGE_Tgr | ITEM_MOVEMENT | ينقص الكميات المتاحة في المستودع عند حذف حركة إدخال صنف، ويعدل أعمار الأصناف المباعة (Sales Age) تلقائياً. |
| IAS_INCR_AVLQTY_STRGE_Tgr | ITEM_MOVEMENT | يزيد الكميات المتاحة في المستودع عند إضافة حركة إدخال صنف، ويعدل أعمار الأصناف المباعة تلقائياً. |
| IAS_ITM_BATCH_TGR | IAS_ITM_BATCH | يسجل التعديلات أو الحذف في دفعات الأصناف (Batch)، لتتبع التواريخ والكميات لكل دفعة صنف. |
| IAS_ITM_MST_TGR | IAS_ITM_MST | يتتبع التعديلات على تعريفات الأصناف الرئيسية في النظام، لضمان صحة بيانات الصنف عبر الزمن. |
| IAS_ITM_ONLINE_IMG_TGR | IAS_ITM_ONLINE_IMG | يسجل التعديلات على صور الأصناف المرتبطة بالنظام أو المتجر الإلكتروني، لتسهيل إدارة صور المنتجات. |
| IAS_ITEM_PRICE_HISTORY_TGR | IAS_ITEM_PRICE_HISTORY | يسجل التعديلات في سجل تاريخ أسعار الأصناف، ما يتيح تتبع تغيرات الأسعار عبر الزمن. |
| SET_IAS_ITEM_PRICE_HIS_SEQ1 | IAS_ITEM_PRICE_HISTORY | يولد رقم تسلسلي تلقائي عند إضافة سجل جديد لسعر صنف (Sequence Generator)، لضمان عدم تكرار الأرقام. |
| SET_SALES_DISC_HIS_SEQ | IAS_SALES_DISC_HISTORY | يولد رقم تسلسلي تلقائي عند إضافة سجل جديد لتاريخ خصومات المبيعات. |
| SET_SALES_FREE_QTY_HIS_SEQ | IAS_SALES_FREE_QTY_HISTORY | يولد رقم تسلسلي تلقائي عند إضافة سجل جديد لتاريخ كميات المبيعات المجانية. |
| chk_del_bill_dtl | IAS_BILL_DTL | عند محاولة حذف سطر فاتورة بيع، يتحقق من وجود حركات صنف مرتبطة في جدول الحركات المخزنية ويمنع الحذف إذا وجد ارتباط. |
| Chk_Del_Rt_Bill_Dtl | IAS_RT_BILL_DTL | عند محاولة حذف سطر فاتورة مرتجع، يتحقق من وجود حركات صنف مرتبطة في جدول الحركات المخزنية ويمنع الحذف إذا وجد ارتباط. |
| ... إذا وجدت تريجرات أخرى مرتبطة بجداول المخزون أو حملات تسعير الأصناف سيتم إضافتها هنا ... |

---

**ملاحظات صارمة للجودة:**
- جميع التريجرات مأخوذة من ملفات التريجرات الفعلية، وتم ربطها فقط بالجداول التي تصنف في قسم المخزون والمستودعات حسب Domain-Modules-Tables.md.
- الشرح دقيق وعملي ومبني على اسم التريجر ونصه البرمجي حيث توفر.
- إذا كان لديك تريجرات مخزون إضافية أو تريجر غير واضح صنفه أرسل اسمه أو نصه لأدرجه بدقة.
- يمكنك طلب قسم جديد بنفس التنسيق لأي مجال آخر (مبيعات، مشتريات، ...).
